# Ollama as a Windows Service

–ó–∞–ø—É—Å–∫–∞–π—Ç–µ [Ollama](https://ollama.com) –∫–∞–∫ —Ñ–æ–Ω–æ–≤—É—é —Å–ª—É–∂–±—É Windows —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –º–æ–¥–µ–ª—è–º–∏ –∏ —Å–µ—Ç–µ–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º.

![PowerShell](https://img.shields.io/badge/PowerShell-5.1%2B-blue?logo=powershell&logoColor=white)
![Windows](https://img.shields.io/badge/OS-Windows-blue?logo=windows)

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ Ollama –∫–∞–∫ —Å–ª—É–∂–±—ã –≤ Windows

–≠—Ç–æ—Ç –Ω–∞–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ollama –∫–∞–∫ —Å–ª—É–∂–±—É Windows
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –∏–ª–∏ **–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å** ollama
- –û–±–Ω–æ–≤–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ Ollama-—É–∑–ª–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏

–°–∫—Ä–∏–ø—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ PowerShell –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è **Windows 10/11**.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
Install Ollma as service/ 

‚îú‚îÄ‚îÄ bin/ # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã  
‚îÇ ‚îú‚îÄ‚îÄ nssm.exe # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–±—ã  
‚îÇ ‚îî‚îÄ‚îÄ curl.exe # –î–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è  
‚îú‚îÄ‚îÄ config/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã  
‚îÇ ‚îî‚îÄ‚îÄ .env # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
‚îú‚îÄ‚îÄ logs/ # –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤  
‚îú‚îÄ‚îÄ scripts/ # –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã  
‚îÇ ‚îú‚îÄ‚îÄ install.ps1 # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ollama –∫–∞–∫ —Å–ª—É–∂–±—ã  
‚îÇ ‚îú‚îÄ‚îÄ update_models.ps1 # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π  
‚îÇ ‚îú‚îÄ‚îÄ check_update.ps1 # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π  
‚îÇ ‚îî‚îÄ‚îÄ scan_ollama_nodes.ps1  # –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞  
‚îú‚îÄ‚îÄ downloads/ # –°–∫–∞—á–∞–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)  
‚îú‚îÄ‚îÄ load_balance/ # –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –∏ .bat –¥–ª—Ñ –µ–≥–æ –∑–∞–ø—É—Å–∫–∞  
‚îî‚îÄ‚îÄ models/ # –ú–æ–¥–µ–ª–∏ Ollama (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

### 1. **PowerShell –∑–∞–ø—É—â–µ–Ω –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**
   - `install.ps1` –∏ `check_update.ps1` —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
     ```
     Start-Process powershell -Verb RunAs
     ```
### 2. **–†–∞–∑—Ä–µ—à–µ–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤**
   –ï—Å–ª–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
   ```
   Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
   ```
### 3. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
	.NET Framework 4.8+
	Visual C++ Redistributable
	
### 4. –§–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ bin
	nssm.exe ‚Äî –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª—É–∂–±–æ–π
	curl.exe ‚Äî –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
	
## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ç—ã—Ä–µ —Å–∫—Ä–∏–ø—Ç–∞:

### 1. install.ps1 ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ollama –∫–∞–∫ —Å–ª—É–∂–±—ã
   
#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
> –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç ollama.exe –∫–∞–∫ —Å–ª—É–∂–±—É —á–µ—Ä–µ–∑ nssm  
> –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –ø—É—Ç–∏ –∫ ollama.exe –∏ –ø–∞–ø–∫–µ –º–æ–¥–µ–ª–µ–π  
> –°–æ–∑–¥–∞—ë—Ç .env —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
> –î–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä Windows –¥–ª—è –ø–æ—Ä—Ç–∞ 11434  
> –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã  
> –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

#### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

	cd "D:\Ai\Install Ollma as service\scripts"
	.\install.ps1
		
#### –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

> –°–ª—É–∂–±–∞: OllamaService  
> API: http://localhost:11434  
> –î–æ—Å—Ç—É–ø –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ —Ä–∞–∑—Ä–µ—à—ë–Ω
> –õ–æ–≥–∏: logs\ollama.log
  
### 2. check_update.ps1 ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
> –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Ollama  
> –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–µ–π –Ω–∞ GitHub  
> –ò—â–µ—Ç OllamaSetup.exe (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) –∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–±–æ—Ä–∫–∏  
> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É
#### –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π:
*–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:*
> –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª—É–∂–±—É OllamaService  
> –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç ollama  
> –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª—É–∂–±—É  
> –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API  
> –í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π  

*–ü—Ä–∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ:*
> –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç ollama  
> –í—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å ./install.ps1  
> –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞  
#### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

	cd "D:\Ai\Install Ollma as service\scripts"
	.\check_update.ps1

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
> –ï—Å–ª–∏ ollama.exe –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–∫–∞—á–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å  
> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –¥–∞–∂–µ –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏  
> –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### 3. update_models.ps1 ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
> –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (ollama list)  
> –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

**–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å:**
> –û–¥–Ω—É –º–æ–¥–µ–ª—å: 1  
> –ù–µ—Å–∫–æ–ª—å–∫–æ: 1,3  
> –í—Å–µ: all  
> –û—Ç–º–µ–Ω–∞: q

**–î–ª—è –∫–∞–∂–¥–æ–π –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏:**
> –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é (ollama rm)
> –°–∫–∞—á–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é (ollama pull)  
> –í—ã–≤–æ–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
> ‚ùó –ù–µ—Ç –±—ç–∫–∞–ø–∞ ‚Äî –∫–æ–º–∞–Ω–¥–∞ ollama save/load –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ Windows
> –ü–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º ‚Äî —á—ë—Ç–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ  
> –ü—Ä–∏ —Å–±–æ–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–∞  
> –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

**–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**

	cd "D:\Ai\Install Ollma as service\scripts"
	.\update_models.ps1
	
**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
> –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ logs/model_update_–ì–ì–ì–ì-–ú–ú-–î–î.log  

### 4. scan_ollama_nodes.ps1 ‚Äî –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**

–°–∫–∞–Ω–∏—Ä—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞, –¥–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –∏ –ø–æ–¥—Å–µ—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ Ollama API (–ø–æ—Ä—Ç 11434)
**–î–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤:**

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è —á–µ—Ä–µ–∑ reverse-DNS (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è IP)  
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π  
–§–æ—Ä–º–∏—Ä—É–µ—Ç –∞–ª–∏–∞—Å –∏–∑ –∏–º–µ–Ω–∏ —Ö–æ—Å—Ç–∞ (–±–µ–∑ –¥–æ–º–µ–Ω–∞) –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ config/ollama_hosts.json –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç load_balancer.bat —Å –∫–æ–º–∞–Ω–¥–æ–π –∑–∞–ø—É—Å–∫–∞ ollama_load_balancer.exe  https://github.com/MattSteffen/llm-balancer 

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –≤–≤–æ–¥:**

‚Ä¢ IP: 10.0.55.254
‚Ä¢ –î–æ–º–µ–Ω—ã: ollama-pc.vniigochs.ru
‚Ä¢ –°–µ—Ç–∏: 10.0.55.0/24, 192.168.0.0/16
‚Ä¢ –°–ø–∏—Å–æ–∫: 10.0.55.254, host.domain.ru, 192.168.1.10/24

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

‚Ä¢ –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –∏–∑ ollama_hosts.json
‚Ä¢ DNS-–∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö Ollama-—É–∑–ª–æ–≤, —á—Ç–æ–±—ã –Ω–µ –∑–∞–º–µ–¥–ª—è—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚Ä¢ –í load_balancer.bat –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞, –µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã; –∏–Ω–∞—á–µ ‚Äî IP
‚Ä¢ –ê–ª–∏–∞—Å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –¥–æ –ø–µ—Ä–≤–æ–≥–æ . (–Ω–∞–ø—Ä–∏–º–µ—Ä, oltyan-303-1 –∏–∑ oltyan-303-1.vniigochs.ru)
‚Ä¢ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è –∫–æ–º–∞–Ω–¥–∞:

	bat
	ollama_load_balancer.exe --server "http://host1.domain.ru:11434=host1" --server "http://host2.domain.ru:11434=host2" --timeout 30

**–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**

	cd "D:\Ai\Install Ollma as service\scripts"
	.\scan_ollama_nodes.ps1
	
**–í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã:**

‚Ä¢ config/ollama_hosts.json ‚Äî —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤
‚Ä¢ load_balancer.bat ‚Äî –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
	1. ollama save / load –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ Windows
		–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –º–æ–¥–µ–ª–∏ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
		–£–¥–∞–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ ‚Äî –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ –ø—Ä–∏ —Å–±–æ–µ
	2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –º–æ–¥–µ–ª–µ–π
		–¢–∞–∫ –∫–∞–∫ –Ω–µ—Ç API –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ö–µ—à–µ–π ‚Äî —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏ –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
		–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ = —É–¥–∞–ª–∏—Ç—å + –∑–∞–Ω–æ–≤–æ —Å–∫–∞—á–∞—Ç—å
		–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
	3. –ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
		–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ Windows-1251
		–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Notepad++ –∏–ª–∏ VS Code —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫–∏
		
## üîÑ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ .\check_update.ps1 ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ Ollama
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ .\install.ps1 ‚Äî –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Ollama –∫–∞–∫ —Å–ª—É–∂–±—É
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏: ollama run llama3, phi3 –∏ —Ç.–¥.
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
	–ó–∞–ø—É—Å—Ç–∏—Ç–µ .\scan_ollama_nodes.ps1 ‚Äî –Ω–∞–π–¥–∏—Ç–µ —É–∑–ª—ã –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫
	–ó–∞–ø—É—Å—Ç–∏—Ç–µ .\update_models.ps1 ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ –º–æ–¥–µ–ª–∏
5. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ:
	check_update.ps1 ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å Ollama
	scan_ollama_nodes.ps1 ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤
	update_models.ps1 ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏
		
## üìé –ü–æ–¥–¥–µ—Ä–∂–∫–∞
	–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
		–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É logs/ ‚Äî —Ç–∞–º –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
		–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ollama.exe —Ä–∞–±–æ—Ç–∞–µ—Ç: ollama --version
		–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ curl.exe –∏ nssm.exe –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ bin/
		–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
		
## üí° –ü—Ä–æ–µ–∫—Ç –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT ‚Äî —Å–º. —Ñ–∞–π–ª LICENSE.

## ü§ù –ê–≤—Ç–æ—Ä
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Ollama –Ω–∞ Windows-—Å–µ—Ä–≤–µ—Ä–∞—Ö –∏ —Ä–∞–±–æ—á–∏—Ö —Å—Ç–∞–Ω—Ü–∏—è—Ö.


¬© 2026 –§–ì–ë–£ –í–ù–ò–ò –ì–û–ß–° (–ö–æ–∂–µ–≤–∞—Ç–æ–≤ –ü–∞–≤–µ–ª)
